(()=>{"use strict";class e{constructor(){this.listeners=[],this.projects=[]}static getState(){return this.instance||(this.instance=new e),this.instance}addListener(e){this.listeners.push(e)}addProject(e,t,n){const s={id:Math.random().toString(),title:e,description:t,people:n};this.projects.push(s);for(const e of this.listeners)e(this.projects.slice())}}const t=e.getState();class n{constructor(e){this.type=e,this.templateElement=document.getElementById("project-list"),this.hostElement=document.getElementById("app"),this.assignedProjects=[];const n=document.importNode(this.templateElement.content,!0);this.element=n.firstElementChild,this.element.id=`${this.type}-projects`,t.addListener((e=>{this.assignedProjects=e,this.renderProjects()})),this.attach(),this.renderContent()}renderProjects(){const e=document.getElementById(`${this.type}-projects-list`);for(const t of this.assignedProjects){const n=document.createElement("li");n.textContent=t.title,e.appendChild(n)}}renderContent(){const e=`${this.type}-projects-list`;this.element.querySelector("ul").id=e,this.element.querySelector("h2").textContent=this.type.toUpperCase()+" Projects"}attach(){this.hostElement.insertAdjacentElement("beforeend",this.element)}}const s=e=>{let t=!0;return e.required&&(t=t&&0!==e.value.toString().trim().length),null!=e.minLength&&"string"==typeof e.value&&(t=t&&e.value.length>=e.minLength),null!=e.maxLength&&"string"==typeof e.value&&(t=t&&e.value.length<=e.maxLength),null!=e.min&&"number"==typeof e.value&&(t=t&&e.value>=e.min),null!=e.max&&"number"==typeof e.value&&(t=t&&e.value<=e.max),t};class i{constructor(){this.templateElement=document.getElementById("project-input"),this.hostElement=document.getElementById("app");const e=document.importNode(this.templateElement.content,!0);this.element=e.firstElementChild,this.element.id="user-input",this.titleInputElement=this.element.querySelector("#title"),this.descriptionInputElement=this.element.querySelector("#description"),this.peopleInputElement=this.element.querySelector("#people"),this.configure(),this.attach()}gatherInput(){const e=this.titleInputElement.value,t=this.descriptionInputElement.value,n=this.peopleInputElement.value,i={value:t,required:!0,minLength:5},l={value:+n,required:!0,min:1,max:5};return s({value:e,required:!0})&&s(i)&&s(l)?[e,t,+n]:void alert("Invalid input, please try again!")}clearInputs(){this.titleInputElement.value="",this.descriptionInputElement.value="",this.peopleInputElement.value=""}submitHandler(e){e.preventDefault();const n=this.gatherInput();if(Array.isArray(n)){const[e,s,i]=n;t.addProject(e,s,i),this.clearInputs()}}configure(){this.element.addEventListener("submit",this.submitHandler)}attach(){this.hostElement.insertAdjacentElement("afterbegin",this.element)}}(function(e,t,n,s){var i,l=arguments.length,r=l<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(l<3?i(r):l>3?i(t,n,r):i(t,n))||r);l>3&&r&&Object.defineProperty(t,n,r)})([(e,t,n)=>{const s=n.value;return{configurable:!0,get(){return s.bind(this)}}}],i.prototype,"submitHandler",null),new i,new n("active"),new n("done")})();